<div th:fragment="newForm" xmlns:th="http:/www.w3.org/1999/xhtml">

    <h3>New Car</h3>

    <span th:text="${error}" style="color: #bb211c">error</span>

    <form action="#" method="post" th:action="@{'/cars/new/'}" th:object="${carForm}">
        <div class="form-group">
            <label for="registration">Registration</label>
            <input class="form-control" id="registration" name="registration" placeholder="Enter Registration"
                   readonly required="required" th:value="${carForm.registration}" type="text"/>
            <div th:errors="*{registration}" th:if="${#fields.hasErrors('registration')}">Registration Error</div>
        </div>

        <div class="form-group">
            <label for="mileage">Mileage</label>
            <input class="form-control" id="mileage" name="mileage" placeholder="Enter Mileage"
                   required="required" step="1" th:value="${carForm.mileage}" type="number"/>
            <div th:errors="*{mileage}" th:if="${#fields.hasErrors('mileage')}">Mileage Error</div>
        </div>

        <div class="form-group">
            <label for="color">Color</label>
            <input class="form-control" id="color" name="color" placeholder="Enter Color"
                   required="required" th:value="${carForm.color}" type="text"/>
            <div th:errors="*{color}" th:if="${#fields.hasErrors('color')}">Color Error</div>
        </div>

        <div class="form-group">
            <label for="modelId">Model</label>
            <select id="modelId" name="modelId">
                <option th:each="model : ${models}"
                        th:utext="${model.manufacturer.name+' '+model.name}"
                        th:value="${model.id}"/>
            </select>
        </div>


        <label>Client</label>
        <div th:object="${carForm.client}">
            <div class="form-group">

                <label>FirstName</label>
                <input class="form-control" required="required" th:field="*{firstName}"
                       th:value="${carForm.client.firstName}"
                       type="text"/>
                <div th:errors="*{firstName}" th:if="${#fields.hasErrors('firstName')}">FirstName Error</div>

            </div>
            <div class="form-group">
                <label>LastName</label>
                <input class="form-control" required="required" th:field="*{lastName}"
                       th:value="${carForm.client.lastName}"
                       type="text"/>
                <div th:errors="*{lastName}" th:if="${#fields.hasErrors('lastName')}">LastName Error</div>

            </div>
            <div class="form-group">
                <label>PhoneNumber</label>
                <input class="form-control" required="required" th:field="*{phoneNumber}"
                       th:value="${carForm.client.phoneNumber}"
                       type="text"/>
                <div th:errors="*{phoneNumber}" th:if="${#fields.hasErrors('phoneNumber')}">PhoneNumber Error</div>

            </div>
        </div>

        <button class="btn btn-primary" type="submit">Submit</button>
    </form>
</div>
